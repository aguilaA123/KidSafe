<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>KidSafe • Panel Cuidador</title>
  <link rel="stylesheet" href="styles.css" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
</head>
<body>
  <!-- Topbar -->
  <header class="topbar">
    <h1 class="topbar-title">KidSafe</h1>
  </header>

  <main class="content">
    <h2 class="section-title">Panel del Cuidador</h2>

    <!-- Tile: REPORTE -->
    <button class="tile tile-reporte" type="button" aria-label="Reporte">
      <div class="tile-left">
        <span class="tile-icon" aria-hidden="true">
          <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none"
               stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
               class="lucide lucide-calendar-days-icon">
            <path d="M8 2v4"></path>
            <path d="M16 2v4"></path>
            <rect width="18" height="18" x="3" y="4" rx="2"></rect>
            <path d="M3 10h18"></path>
            <path d="M8 14h.01"></path>
            <path d="M12 14h.01"></path>
            <path d="M16 14h.01"></path>
            <path d="M8 18h.01"></path>
            <path d="M12 18h.01"></path>
            <path d="M16 18h.01"></path>
          </svg>
        </span>
        <div class="tile-texts">
          <span class="tile-label">REPORTE</span>
          <span class="tile-sub">Pendientes</span>
        </div>
      </div>
      <div class="tile-right">
        <span class="tile-count" id="count-reporte">0</span>
        <span class="chev" aria-hidden="true">›</span>
      </div>
    </button>

    <!-- Tile: MENSAJES -->
    <button class="tile tile-mensajes" type="button" aria-label="Mensajes">
      <div class="tile-left">
        <span class="tile-icon" aria-hidden="true">
          <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none"
               stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
               class="lucide lucide-mail-icon">
            <path d="m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7"/>
            <rect x="2" y="4" width="20" height="16" rx="2"/>
          </svg>
        </span>
        <div class="tile-texts">
          <span class="tile-label">MENSAJES</span>
          <span class="tile-sub">No leídos</span>
        </div>
      </div>
      <div class="tile-right">
        <span class="tile-count" id="count-mensajes">0</span>
        <span class="chev" aria-hidden="true">›</span>
      </div>
    </button>

    <!-- Tile: JUSTIFICANTE -->
    <button class="tile tile-justificante" type="button" aria-label="Justificante">
      <div class="tile-left">
        <span class="tile-icon" aria-hidden="true">
          <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none"
               stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
               class="lucide lucide-notebook-pen-icon">
            <path d="M13.4 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-7.4"/>
            <path d="M2 6h4"/>
            <path d="M2 10h4"/>
            <path d="M2 14h4"/>
            <path d="M2 18h4"/>
            <path d="M21.378 5.626a1 1 0 1 0-3.004-3.004l-5.01 5.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z"/>
          </svg>
        </span>
        <div class="tile-texts">
          <span class="tile-label">JUSTIFICANTE</span>
          <span class="tile-sub">Pendientes</span>
        </div>
      </div>
      <div class="tile-right">
        <span class="tile-count" id="count-justificante">0</span>
        <span class="chev" aria-hidden="true">›</span>
      </div>
    </button>

    <!-- Subtítulo Encargado -->
    <h2 class="section-title spaced-large">Encargado</h2>
    <div class="encargado-row">
      <span class="encargado-nombre">Fabrizio</span>
      <!-- inicia cargando -->
      <span class="encargado-estado loading">Cargando…</span>
    </div>

    <!-- Botones de estado (debajo del encargado) -->
    <div class="estado-row">
      <button class="state-btn btn-activo" id="btn-estado-on">Activo</button>
      <button class="state-btn btn-fuera"  id="btn-estado-off">Fuera</button>
    </div>

    <!-- AVISO dinámico cuando familia marca llevar/recoger -->
    <p id="aviso-panel" class="aviso-panel hidden"></p>
  </main>

  <!-- Modal reutilizable -->
  <div id="modal" class="modal hidden" aria-hidden="true">
    <div class="modal-backdrop"></div>
    <div class="modal-card" role="dialog" aria-modal="true" aria-labelledby="modal-title">
      <button class="modal-close" id="modal-close" aria-label="Cerrar">×</button>
      <h3 id="modal-title" class="modal-title">Confirmación</h3>
      <p id="modal-text" class="modal-text">¿Está segura/o?</p>
      <div class="modal-actions">
        <button class="modal-btn modal-no" id="modal-no">No</button>
        <button class="modal-btn modal-si" id="modal-si">Sí</button>
      </div>
    </div>
  </div>

  <script type="module" src="script.js"></script>
</body>
</html>