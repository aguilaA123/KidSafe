:root{
  --bg:#0b1220;
  --card:#101a32;
  --border:#1e2b4d;
  --text:#e7edf7;
  --muted:#b7c0d6;

  --grad-reporte-start:#b3261e;  
  --grad-reporte-end:#8f1c18;
  --grad-mensajes-start:#facc15; 
  --grad-mensajes-end:#eab308;
  --grad-justificante-start:#38bdf8; 
  --grad-justificante-end:#0ea5e9;

  --activo-bg:#22c55e;  
  --off-bg:#dc2626;     
  --loading-bg:#475569; 
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  background: var(--bg);
  color: var(--text);
}

/* util */
.hidden{display:none !important;}

/* sin cuadros de focus / tap highlight */
button, input, textarea, select {
  outline: none !important;
  box-shadow: none !important;
  -webkit-tap-highlight-color: transparent;
}
:focus { outline: none !important; box-shadow: none !important; }

/* Topbar */
.topbar{
  position: sticky; top: 0; z-index: 50;
  height: 56px;
  display: grid; place-items: center;
  background:#11305f;
  border-bottom: 1px solid rgba(255,255,255,.06);
}
.topbar-title{ margin:0; font-size: 1.1rem; font-weight: 700; }

/* Contenido */
.content{ max-width: 880px; margin: 0 auto; padding: 16px; }
.section-title{
  margin: 18px 4px 12px; font-size: 1rem; font-weight: 700; color: var(--muted);
}
.section-title.spaced-large{margin-top: 40px;}

/* Tiles */
.tile{
  width: 100%; border: none; cursor: pointer;
  display: flex; align-items: center; justify-content: space-between; gap: 8px;
  padding: 14px 14px; margin: 10px 4px 18px; border-radius: 12px; color: #fff;
  text-align: left; box-shadow: 0 8px 26px rgba(0,0,0,.25);
}
.tile-reporte{ background: linear-gradient(90deg, var(--grad-reporte-start), var(--grad-reporte-end)); }
.tile-mensajes{ background: linear-gradient(90deg, var(--grad-mensajes-start), var(--grad-mensajes-end)); color:#222; }
.tile-mensajes .tile-icon{background: rgba(0,0,0,.1); color:#111;}
.tile-justificante{ background: linear-gradient(90deg, var(--grad-justificante-start), var(--grad-justificante-end)); }
.tile-left{display:flex; align-items:center; gap:12px}
.tile-icon{ display:inline-grid; place-items:center; width:38px; height:38px; border-radius:10px; color:#fff; background: rgba(255,255,255,.12); }
.tile-texts{ display:flex; flex-direction:column; line-height:1.15 }
.tile-label{ font-weight: 800; font-size: .95rem; }
.tile-sub{ font-size:.85rem; opacity:.92; }
.tile-right{ display:flex; align-items:center; gap:10px }
.tile-count{ font-weight: 900; font-size: 1.35rem; }
.chev{ font-size: 1.6rem; opacity:.9 }
.tile:active{ transform: translateY(1px); }

/* Encargado */
.encargado-row{
  display:flex; justify-content: space-between; align-items:center;
  background: var(--card); border:1px solid var(--border); border-radius:12px;
  padding:12px 14px; margin-top:16px;
}
.encargado-nombre{font-weight:700; font-size:.95rem;}
.encargado-estado{
  padding:4px 10px; border-radius:8px; font-weight:700; font-size:.8rem; color:#fff;
  background: var(--loading-bg);
}
.encargado-estado.on { background: var(--activo-bg); }
.encargado-estado.off{ background: var(--off-bg); }
.encargado-estado.loading{ background:#475569; }

/* Botones estado (debajo del encargado) */
.estado-row{
  display:flex; gap:12px; margin-top:12px;
}
.state-btn{
  flex:1; padding:12px 12px; border:none; border-radius:12px; font-weight:800; font-size:.95rem; cursor:pointer; color:#fff;
}
.btn-activo{ background: var(--activo-bg); }
.btn-fuera { background: var(--off-bg); }
.state-btn:disabled{ opacity:.6; cursor:not-allowed; }

/* Aviso cuando familia marca llevar/recoger */
.aviso-panel{
  margin:12px 4px 0;
  padding:10px 12px;
  border-radius:10px;
  background: rgba(244,63,94,.12); /* rojito suave */
  color:#f43f5e;                   /* rojo */
  font-weight:700;
}

/* Modal */
.modal.hidden{display:none}
.modal{
  position: fixed; inset: 0; z-index: 100;
}
.modal-backdrop{
  position:absolute; inset:0; background: rgba(0,0,0,.55);
}
.modal-card{
  position: relative;
  width: min(92%, 420px);
  margin: 12vh auto 0;
  background: #0f172a;
  color: #e5e7eb;
  border:1px solid #1f2a44;
  border-radius:16px;
  box-shadow: 0 20px 60px rgba(0,0,0,.35);
  padding: 18px 16px 14px;
}
.modal-title{
  margin:0 28px 8px 0;
  font-size:1.05rem;
  font-weight:800;
}
.modal-text{margin:0 0 14px; color:#cbd5e1}
.modal-actions{ display:flex; gap:10px; justify-content:flex-end; }
.modal-btn{ border:none; border-radius:10px; padding:10px 14px; font-weight:800; cursor:pointer; }
.modal-no{ background:#334155; color:#e5e7eb }
.modal-si{ background:linear-gradient(90deg, #b3261e, #8f1c18); color:#fff }
.modal-close{
  position:absolute; right:10px; top:8px;
  width:32px; height:32px; border:none; border-radius:8px; cursor:pointer;
  background:#1f2a44; color:#e5e7eb; font-size:20px; line-height:32px;
}

/* Responsivo */
@media (min-width: 760px){
  .content{padding: 20px}
  .tile{border-radius: 16px; padding: 16px}
  .tile-icon{width:44px;height:44px;border-radius:12px}
  .tile-count{font-size:1.5rem}
}